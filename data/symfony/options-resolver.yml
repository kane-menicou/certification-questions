category: Options Resolver
questions:
    -   question: "What is the correct call of setAllowedTypes to validate the value null of the my_option option?"
        answers:
            - {value: "$resolver->setAllowedTypes('my_option', 'null');", correct: true}
            - {value: "$resolver->setAllowedTypes('my_option', array(null));", correct: false}
            - {value: "$resolver->setAllowedTypes('my_option', array('null'));", correct: false}
            - {value: "$resolver->setAllowedTypes('my_option', null);", correct: false}

    -   question: "Is it possible to define default values that depend on another option?"
        answers:
            - {value: "No", correct: false}
            - {value: "Yes", correct: true}

    -   question: |
            With the following class:

            <?php
            use Symfony\Component\OptionsResolver\OptionsResolver;

            class Mailer
            {
                private $options;

                public function __construct(array $options = array())
                {
                    $resolver = new OptionsResolver();
                    $resolver->setDefaults(array(
                        'host'     => 'smtp.example.org',
                        'username' => 'user',
                        'password' => 'pa$$word',
                        'port'     => 25,
                    ));

                    $this->options = $resolver->resolve($options);
                }
            }

            what exception will be thrown while executing the code:

            $mailer = new Mailer(array(
                'usernme' => 'johndoe',
            ));
        answers:
            - {value: "A Symfony\\Component\\OptionsResolver\\Exception\\InvalidOptionsException.", correct: true}
            - {value: "A Symfony\\Component\\OptionsResolver\\Exception\\NoSuchOptionException.", correct: false}
            - {value: "A Symfony\\Component\\OptionsResolver\\Exception\\UndefinedOptionsException.", correct: false}
            - {value: "A Symfony\\Component\\OptionsResolver\\Exception\\OptionDefinitionException.", correct: false}
            - {value: "A Symfony\\Component\\OptionsResolver\\Exception\\MissingOptionsException.", correct: false}

    -   question: |
            With the following code:

            <?php
            // ...
            class Mailer
            {
                // ...
                public function configureOptions(OptionsResolver $resolver)
                {
                    // ...
                    $resolver->setDefault('encryption', null);

                    $resolver->setDefault('port', function () {
                        if ('ssl' === $options['encryption']) {
                            return 465;
                        }

                        return 25;
                    });
                }
            }

            what would be the resolved $options passed as:

            $options = array('encryption' => 'SSL');
        answers:
            - value: |
                  $options = array(
                      'encryption' => 'SSL',
                      'port' => null,
                  );
              correct: false
            - value: |
                  $options = array(
                      'encryption' => 'SSL',
                      'port' => 465,
                  );
              correct: false
            - value: |
                  $options = array(
                      'encryption' => 'SSL',
                      'port' => 25,
                  );
              correct: false
            - value: |
                  $options = array(
                      'encryption' => 'SSL',
                      'port' => function () {
                              if ('ssl' === $options['encryption']) {
                                  return 465;
                              }

                              return 25;
                          },
                  );
              correct: true
