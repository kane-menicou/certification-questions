category: Serializer
questions:
    -   question: "What is the way to initialize the ClassMetadataFactory in order to use annotations for the definitions of serialization?"
        answers:
            - value: |
                  use Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactory;
                  use Doctrine\Common\Annotations\AnnotationReader;
                  use Symfony\Component\Serializer\Mapping\Loader\AnnotationLoader;

                  $classMetadataFactory = new ClassMetadataFactory(new AnnotationReader(new AnnotationLoader()));
              correct: false

            - value: |
                  use Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactory;
                  use Doctrine\Common\Annotations\AnnotationReader;
                  use Symfony\Component\Serializer\Mapping\Loader\AnnotationLoader;

                  $classMetadataFactory = new ClassMetadataFactory(new AnnotationLoader(new AnnotationReader()));
              correct: true

            - value: |
                  use Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactory;
                  use Symfony\Component\Serializer\Mapping\Loader\AnnotationLoader;

                  $classMetadataFactory = new ClassMetadataFactory(new AnnotationLoader());
              correct: false
